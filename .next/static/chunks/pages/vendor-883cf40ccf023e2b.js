(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{376:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>p});var r=l(7876),t=l(432),s=l(4232),i=l(5438),n=l(6460),c=l(1408),o=l(5253),d=l.n(o),u=l(8581),m=l(9593);let h=function(){let[e,a]=(0,s.useState)({country:"",state:"",city:"",first_name:"",last_name:"",email:"",mobile:"",gender:"",birth_time:"",birth_date:"",marital_status:"",pincode:"",religion:"",language:"",specialist:"",experience:"",call_charge:"",chat_charge:"",address:"",bio:""}),[l,t]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[h,p]=(0,s.useState)([]),[g,v]=(0,s.useState)([]),[f,x]=(0,s.useState)([]),[j,b]=(0,s.useState)([]),[_,N]=(0,s.useState)(""),[S,y]=(0,s.useState)(""),[F,E]=(0,s.useState)(""),[w,C]=(0,s.useState)(null),[T,q]=(0,s.useState)(null),I=(0,m.Wx)({initialValues:{mobile:"",city:""}});(0,s.useEffect)(()=>{var e,l;let r=localStorage.getItem("token"),t=localStorage.getItem("user");console.log("userDataRaw",t);let s=JSON.parse(t),i=null==s||null==(e=s.user)?void 0:e.id,c=null==s||null==(l=s.user)?void 0:l.mobile;i||console.error("Vendor ID not found 1"),E(c),(async()=>{try{let e=await (0,u.W)("".concat(n.v.base_url,"vendors/").concat(i),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}}),l=await e.json();console.log("response data vendor",l),a(l.data),I.setValues(e=>({...e,...l.data}))}catch(e){console.error("Error fetching profile:",e)}})()},[]);let D=async()=>{try{let[e,a]=await Promise.all([(0,u.W)("".concat(n.v.base_url,"countries/countries")).then(e=>e.json()),(0,u.W)("".concat(n.v.base_url,"countries/config")).then(e=>e.json())]);t(e.data),v(a.data.religion),x(a.data.language),b(a.data.specialist)}catch(e){console.error("Error loading dropdown data:",e)}};(0,s.useEffect)(()=>{D()},[]),(0,s.useEffect)(()=>{if(l.length>0){let e=l.find(e=>"India"===e.name);e&&(a(a=>({...a,country:e.name})),C(e.id),k(e.id))}},[l]),(0,s.useEffect)(()=>{if(i.length>0&&e.state){var a;let l=null==(a=i.find(a=>a.name===e.state))?void 0:a.id;l&&(q(l),V(l))}},[i,e.state]);let k=async e=>{try{let a=await (0,u.W)("".concat(n.v.base_url,"countries/states/").concat(e)).then(e=>e.json());o(a.data),p([]),q(null)}catch(e){console.error("Error loading states:",e)}},V=async e=>{try{let a=await (0,u.W)("".concat(n.v.base_url,"countries/cities/").concat(e)).then(e=>e.json());p(a.data)}catch(e){console.error("Error loading cities:",e)}},U=c.Ik().shape({first_name:c.Yj().required("First name is required"),last_name:c.Yj().required("Last name is required"),address:c.Yj().required("Address is required"),bio:c.Yj().required("Bio is required"),email:c.Yj().email("Invalid email format").required("Email is required"),birth_date:c.Yj().required("Date of birth is required"),gender:c.Yj().required("Gender is required"),state:c.Yj().required("State is required"),city:c.Yj().required("City is required"),pincode:c.Yj().matches(/^\d{6}$/,"Pincode must be exactly 6 digits").required("Pincode is required"),marital_status:c.Yj().required("Marital Status is required"),religion:c.Yj().required("Religion is required"),language:c.Yj().required("Language is required"),specialist:c.Yj().required("Specialist is required"),experience:c.ai().required("Experience is required"),call_charge:c.ai().required("Call charge is required"),chat_charge:c.ai().required("Chat charge is required")}),P=async e=>{var a;let l=localStorage.getItem("token"),r=JSON.parse(localStorage.getItem("user")),t=null==r||null==(a=r.user)?void 0:a.id;if(e.pincode&&(e.pincode=Number(e.pincode)),!t)return void console.error("Vendor ID not found in handle Submit");let{image:s,document1:i,document2:c,id:o,mobile:d,is_active:m,is_login:h,...p}=e;try{let e=await (0,u.W)("".concat(n.v.base_url,"vendors/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},body:JSON.stringify(p)}),a=await e.json();e.ok&&a.status?(N(a.message||"Profile updated successfully!"),y("success")):(N(a.message||"Profile update failed. Please try again."),y("error")),setTimeout(()=>{N(""),y("")},3e3)}catch(e){console.error("API error:",e),N("An error occurred. Please try again."),y("error"),setTimeout(()=>{N(""),y("")},3e3)}};return(0,r.jsxs)("div",{className:"user-profile-info p-4 pt-0",children:[(0,r.jsx)("h5",{className:"mb-4 bg-title-profile",children:"Edit Vendor Profile"}),_&&(0,r.jsx)("div",{className:d().centeredMessage,children:(0,r.jsx)("div",{className:"".concat(d().fadeUp," ").concat("success"===S?d().alertSuccess:d().alertError),children:_})}),(0,r.jsx)(m.l1,{initialValues:e,enableReinitialize:!0,validationSchema:U,onSubmit:P,children:e=>{var a,t;return(0,r.jsx)("form",{onSubmit:e.handleSubmit,children:(0,r.jsx)("div",{className:"card shadow-sm p-3 bg-profile",children:(0,r.jsx)("div",{className:"p-4 px-0",children:(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"row g-3",children:[(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",style:{fontWeight:500},children:"First name"}),(0,r.jsx)("input",{name:"first_name",className:"form-control",value:e.values.first_name||"",placeholder:"Enter first name",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)}}),e.errors.first_name&&e.touched.first_name&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.first_name})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Last name"}),(0,r.jsx)("input",{name:"last_name",className:"form-control",value:e.values.last_name||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},placeholder:"Enter last name"}),e.errors.last_name&&e.touched.last_name&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.last_name})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Email"}),(0,r.jsx)("input",{type:"email",name:"email",className:"form-control",value:e.values.email||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},placeholder:"Enter email-Id"}),e.errors.email&&e.touched.email&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.email})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Date of birth"}),(0,r.jsx)("input",{type:"date",name:"birth_date",className:"form-control",value:e.values.birth_date?e.values.birth_date.slice(0,10):"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)}}),e.errors.birth_date&&e.touched.birth_date&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.birth_date})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Gender"}),(0,r.jsxs)("select",{name:"gender",className:"form-select",value:e.values.gender||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},children:[(0,r.jsx)("option",{value:"",children:"Select Gender"}),(0,r.jsx)("option",{value:"FEMALE",children:"Female"}),(0,r.jsx)("option",{value:"MALE",children:"Male"}),(0,r.jsx)("option",{value:"OTHER",children:"Other"})]}),e.errors.gender&&e.touched.gender&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.gender})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Select Country"}),(0,r.jsxs)("select",{name:"country",className:"form-select",value:e.values.country||"",onChange:a=>{var l,r;let{name:t,value:s}=a.target;e.setFieldValue(t,s),e.setFieldTouched(t,!0,!1),(null==(r=e.validationSchema)||null==(l=r.fields)?void 0:l[t])&&e.validateField(t)},disabled:!0,children:[(0,r.jsx)("option",{value:"",children:"Select Country"}),l.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Select State"}),(0,r.jsxs)("select",{name:"state",className:"form-select",value:e.values.state||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l);let t=i.find(e=>e.name===r);t&&V(t.id)},children:[(0,r.jsx)("option",{value:"",children:"Select State"}),i.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]}),e.errors.state&&e.touched.state&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.state})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Select City"}),(0,r.jsxs)("select",{name:"city",className:"form-select",value:e.values.city||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},children:[(0,r.jsx)("option",{value:"",children:"Select City"}),h.map(e=>(0,r.jsx)("option",{value:e.name,children:e.name},e.id))]}),e.errors.city&&e.touched.city&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.city})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Pincode"}),(0,r.jsx)("input",{type:"number",name:"pincode",className:"form-control",value:e.values.pincode||"",placeholder:"Enter pincode",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)}}),e.errors.pincode&&e.touched.pincode&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.pincode})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Marital Status"}),(0,r.jsxs)("select",{name:"marital_status",className:"form-select",value:e.values.marital_status||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},children:[(0,r.jsx)("option",{value:"",children:"Select Marital Status"}),(0,r.jsx)("option",{value:"Single",children:"Single"}),(0,r.jsx)("option",{value:"Married",children:"Married"})]}),e.errors.marital_status&&e.touched.marital_status&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.marital_status})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Religion"}),(0,r.jsxs)("select",{name:"religion",className:"form-select",value:e.values.religion||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},children:[(0,r.jsx)("option",{value:"",children:"Select Religion"}),Object.entries(g||{}).map(e=>{let[a,l]=e;return(0,r.jsx)("option",{value:l,children:l},a)})]}),e.errors.religion&&e.touched.religion&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.religion})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Language"}),(0,r.jsxs)("select",{name:"language",className:"form-select",value:e.values.language||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},children:[(0,r.jsx)("option",{value:"",children:"Select Language"}),Object.entries(f||{}).map(e=>{let[a,l]=e;return(0,r.jsx)("option",{value:l,children:l},a)})]}),e.errors.language&&e.touched.language&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.language})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Specialist"}),(0,r.jsxs)("select",{name:"specialist",className:"form-select",value:e.values.specialist||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},children:[(0,r.jsx)("option",{value:"",children:"Select Specialist"}),Object.entries(j||{}).map(e=>{let[a,l]=e;return(0,r.jsx)("option",{value:l,children:l},a)})]}),e.errors.specialist&&e.touched.specialist&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.specialist})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Mobile"}),(0,r.jsx)("input",{type:"text",name:"mobile",className:"form-control",value:F,placeholder:"Enter Mobile Number",readOnly:!0})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Experience"}),(0,r.jsx)("input",{type:"number",name:"experience",className:"form-control",value:e.values.experience||"",placeholder:"Enter experience",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)}}),e.errors.experience&&e.touched.experience&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.experience})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Call charge"}),(0,r.jsx)("input",{type:"number",name:"call_charge",className:"form-control",value:null!=(a=e.values.call_charge)?a:"",placeholder:"Enter call charge per minute",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,""===r?"":Number(r)),e.setFieldTouched(l,!0,!1),e.validateField(l)}}),e.errors.call_charge&&e.touched.call_charge&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.call_charge})]}),(0,r.jsxs)("div",{className:"col-md-4",children:[(0,r.jsx)("label",{className:"form-label",children:"Chat Charge"}),(0,r.jsx)("input",{type:"number",name:"chat_charge",className:"form-control",value:null!=(t=e.values.chat_charge)?t:"",placeholder:"Enter chat charge per minute",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,""===r?"":Number(r)),e.setFieldTouched(l,!0,!1),e.validateField(l)}}),e.errors.chat_charge&&e.touched.chat_charge&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.chat_charge})]}),(0,r.jsxs)("div",{className:"col-md-8",children:[(0,r.jsx)("label",{className:"form-label",children:"Address"}),(0,r.jsx)("input",{name:"address",className:"form-control",value:e.values.address||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},placeholder:"Enter address"}),e.errors.address&&e.touched.address&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.address})]}),(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsx)("label",{className:"form-label",children:"Bio"}),(0,r.jsx)("textarea",{name:"bio",className:"form-control",rows:"4",value:e.values.bio||"",onChange:a=>{let{name:l,value:r}=a.target;e.setFieldValue(l,r),e.setFieldTouched(l,!0,!1),e.validateField(l)},placeholder:"Write something about yourself..."}),e.errors.bio&&e.touched.bio&&(0,r.jsx)("div",{className:"".concat(d().textDanger," ").concat(d().small),children:e.errors.bio})]}),(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{className:"text-center mt-3",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Profile"})})})]})})})})})}})]})},p=function(){return(0,t.A)(),(0,r.jsx)("div",{className:"bg-light sectiontop-margin",children:(0,r.jsx)("div",{className:"container-fluid pb-5 pt-0",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-12",children:(0,r.jsx)("div",{className:"card border-0 shadow-sm",children:(0,r.jsx)("div",{className:"card-body p-0",children:(0,r.jsxs)("div",{className:"row g-0",children:[(0,r.jsx)("div",{className:"col-lg-3 border-end",children:(0,r.jsx)(i.A,{})}),(0,r.jsx)("div",{className:"col-lg-9",children:(0,r.jsx)(h,{})})]})})})})})})})}},3612:(e,a,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/vendor",function(){return l(376)}])},5253:e=>{e.exports={"sectiontop-margin":"profile_sectiontop-margin__S23Jq","profile-sidebar":"profile_profile-sidebar__5Yjop","nav-pills":"profile_nav-pills___wCmq","nav-link":"profile_nav-link__VSIuy",active:"profile_active__DTnUi","profile-pic":"profile_profile-pic__5KBif","settings-card":"profile_settings-card__kmXPp","form-switch":"profile_form-switch__1Ecrn","form-check-input":"profile_form-check-input__4GIIa","activity-item":"profile_activity-item__24_4O","profile-name":"profile_profile-name__ZAN_J","profile-number":"profile_profile-number__9VSPD","bg-title-profile":"profile_bg-title-profile__YZ7Uu","bg-profile":"profile_bg-profile__EJo_Z","Update-btn":"profile_Update-btn__NYDUf",textDanger:"profile_textDanger__NQYgK",small:"profile_small__EpdS9",readonlySelect:"profile_readonlySelect__3hI8N",alertSuccess:"profile_alertSuccess__kxXxU",alertError:"profile_alertError__TdYMQ",fadeUp:"profile_fadeUp__F0_aF",fadeInUp:"profile_fadeInUp__LDR2j",centeredMessage:"profile_centeredMessage__nVWnb"}},5438:(e,a,l)=>{"use strict";l.d(a,{A:()=>u});var r=l(7876),t=l(4232),s=l(8230),i=l.n(s),n=l(6460),c=l(8581),o=l(9099);let d=function(){let[e,a]=(0,t.useState)(null),[l,s]=(0,t.useState)(null),[i,o]=(0,t.useState)(""),[d,u]=(0,t.useState)(""),[m,h]=(0,t.useState)("/images/userprofile.png"),[p,g]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=localStorage.getItem("user");if(e){let a=JSON.parse(e),l=null==a?void 0:a.user,r=null==a?void 0:a.type;(null==l?void 0:l.id)&&"vendor"===r?(g(l.id),v(l.id)):console.warn("User type is not 'user' or ID is missing")}},[]);let v=async e=>{let l=localStorage.getItem("token");if(!e||!l)return void console.warn("Missing ID or token");try{let r=await (0,c.W)("".concat(n.v.base_url,"vendors/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(l)}});if(!r.ok)throw Error("HTTP error! status: ".concat(r.status));let t=await r.json();if(r.ok&&t.data){let e=t.data.image||"/images/userprofile.png";h(e),a(t.data)}}catch(e){console.error("Error fetching user:",e)}},f=async()=>{if(!l||!p)return;let e=new FormData;e.append("image",l);try{let a=localStorage.getItem("token"),l=await (0,c.W)("".concat(n.v.base_url,"vendors/upload-profile/").concat(p),{method:"PUT",headers:{Authorization:"Bearer ".concat(a)},body:e}),r=await l.json();if(l.ok&&r.status){let e=r.data||"/images/userprofile.png";h("".concat(e,"?").concat(Date.now())),s(null)}else o(r.message||"Upload failed. Try again."),u("error")}catch(e){console.error("Upload error:",e),alert("Something went wrong while uploading.")}};return(0,r.jsxs)("div",{className:"text-center user-photo",children:[(0,r.jsxs)("div",{className:"position-relative d-inline-block",children:[(0,r.jsx)("img",{src:m,className:"rounded-circle profile-pic img-thumbnail",alt:"Profile",width:"120",height:"120"}),(0,r.jsx)("label",{htmlFor:"upload-photo",className:"btn btn-primary btn-sm position-absolute bottom-0 end-0 rounded-circle",title:"Change Photo",style:{cursor:"pointer"},children:(0,r.jsx)("i",{className:"fas fa-camera"})}),(0,r.jsx)("input",{type:"file",id:"upload-photo",accept:"image/*",onChange:e=>{var a;let l=null==(a=e.target.files)?void 0:a[0];if(l){if(l.size/1024>50){o("Image size should be 50KB or less."),u("error"),s(null);return}o(""),u(""),s(l),h(URL.createObjectURL(l))}},style:{display:"none"}})]}),(0,r.jsxs)("div",{className:"mt-2",children:[i&&(0,r.jsx)("p",{style:{color:"success"===d?"green":"red",fontSize:"0.75rem",margin:0},children:i}),!i&&l&&(0,r.jsx)("button",{className:"btn btn-success btn-sm",style:{fontSize:"0.75rem",padding:"2px 8px"},onClick:()=>f(l),children:"Upload"})]}),(0,r.jsxs)("p",{className:"mt-2 mb-1 profile-name fw-bold",children:[null==e?void 0:e.first_name," ",null==e?void 0:e.last_name]}),(0,r.jsxs)("p",{className:"text-muted mb-3 profile-number",children:["(+91 ",null==e?void 0:e.mobile,")"]})]})},u=function(){let e=(0,o.useRouter)();e.pathname;let[a,l]=(0,t.useState)(0),s=async()=>{var a,r;let t=localStorage.getItem("token"),s=JSON.parse(localStorage.getItem("user")),i=null==s||null==(a=s.user)?void 0:a.id;if(i&&"/vendorchat"!==e.pathname){if("true"===sessionStorage.getItem("resetUnread"))return void sessionStorage.removeItem("resetUnread");try{let e=await (0,c.W)("".concat(n.v.base_url,"chat/unread-count/").concat(i),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),a=await e.json();"number"==typeof(null==a||null==(r=a.data)?void 0:r.unreadCount)?(l(a.data.unreadCount),Array.isArray(a.data.customerIds)&&a.data.customerIds.length>0&&sessionStorage.setItem("latestCustomerId",a.data.customerIds[0])):console.warn("Unexpected unread count structure:",null==a?void 0:a.data)}catch(e){console.error("Failed to fetch unread count",e)}}};return(0,t.useEffect)(()=>{if("/vendorchat"===e.pathname)return void l(0);s();let a=setInterval(()=>{s()},5e3);return()=>clearInterval(a)},[e.pathname]),(0,r.jsx)("div",{className:"p-4 pt-0 Sidebar",children:(0,r.jsxs)("div",{className:"nav flex-column nav-pills leftbar",children:[(0,r.jsx)("div",{className:"profile-ph-part",children:(0,r.jsx)(d,{})}),(0,r.jsxs)("div",{className:"left-menu py-3",children:[(0,r.jsx)(i(),{href:"vendor",className:"nav-link border-bottom",children:"Personal Info"}),(0,r.jsx)(i(),{href:"/astrologerTransaction",className:"nav-link border-bottom",children:"Transaction"}),(0,r.jsx)(i(),{href:"/vendorupload",className:"nav-link border-bottom",children:"Upload Documents"}),(0,r.jsxs)(i(),{href:"/vendor-requests",className:"nav-link border-bottom d-flex justify-content-between align-items-center",children:["Notifications ",(0,r.jsx)("span",{children:a})]})]})]})})}}},e=>{e.O(0,[856,636,593,792],()=>e(e.s=3612)),_N_E=e.O()}]);